<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:HojozatyCode.ViewModels"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="HojozatyCode.Pages.EditPage"
             BackgroundColor="#F8F7FA"
             Title="Edit Venue">

    <ContentPage.BindingContext>
        <vm:MySpaceViewModel />
    </ContentPage.BindingContext>

    <ScrollView>
        <VerticalStackLayout Spacing="25" Padding="20,10">

            <!-- Header Section -->
            <StackLayout Spacing="10" HorizontalOptions="Center">
                <Border Stroke="#4F378A"
                        StrokeThickness="2"
                        StrokeShape="RoundRectangle 14"
                        HeightRequest="70"
                        WidthRequest="70"
                        HorizontalOptions="Center"
                        BackgroundColor="#4F378A10">
                    <Image Source="edit_venue_icon.png"
                           HeightRequest="32"
                           WidthRequest="32"
                           VerticalOptions="Center"
                           HorizontalOptions="Center"/>
                </Border>

                <Label Text="Edit Venue Details"
                       FontSize="24"
                       FontAttributes="Bold"
                       TextColor="#4F378A"
                       HorizontalOptions="Center"
                       Margin="0,5"/>

                <BoxView HeightRequest="3" 
                         WidthRequest="90"
                         Color="#4F378A"
                         HorizontalOptions="Center"
                         CornerRadius="1.5"/>
            </StackLayout>

            <!-- Form Container -->
            <Border Stroke="#E0E0E0"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 18"
                    BackgroundColor="White">
                <Border.Shadow>
                    <Shadow Brush="#4F378A20"
                            Offset="5,5"
                            Opacity="0.2"
                            Radius="10"/>
                </Border.Shadow>

                <VerticalStackLayout Spacing="18" Padding="25">

                    <!-- Venue Name -->
                    <VerticalStackLayout Spacing="4">
                        <Label Text="VENUE NAME" 
                               FontSize="12"
                               FontAttributes="Bold"
                               TextColor="#4F378A"
                               Margin="5,0"/>
                        <Border Stroke="#4F378A60"
                                StrokeThickness="1"
                                StrokeShape="RoundRectangle 10"
                                Padding="0">
                            <Entry Placeholder="Enter venue name"
                                   Text="{Binding VenueName}"
                                   FontSize="16"
                                   TextColor="#333"
                                   PlaceholderColor="#999"
                                   ClearButtonVisibility="WhileEditing"
                                   BackgroundColor="Transparent"/>
                        </Border>
                    </VerticalStackLayout>        
                    
                    <!-- Venue Phone -->
                    <VerticalStackLayout Spacing="4">
                        <Label Text="VENUE PHONE" 
                               FontSize="12"
                               FontAttributes="Bold"
                               TextColor="#4F378A"
                               Margin="5,0"/>
                        <Border Stroke="#4F378A60"
                                StrokeThickness="1"
                                StrokeShape="RoundRectangle 10"
                                Padding="0">
                            <Entry Placeholder="Enter venue phone"
                                   Text="{Binding VenuePhone}"
                                   FontSize="16"
                                   TextColor="#333"
                                   PlaceholderColor="#999"
                                   ClearButtonVisibility="WhileEditing"
                                   Keyboard="Telephone"
                                   BackgroundColor="Transparent"/>
                        </Border>
                    </VerticalStackLayout>              
                    
                    <!-- Venue Email -->
                    <VerticalStackLayout Spacing="4">
                        <Label Text="VENUE EMAIL" 
                               FontSize="12"
                               FontAttributes="Bold"
                               TextColor="#4F378A"
                               Margin="5,0"/>
                        <Border Stroke="#4F378A60"
                                StrokeThickness="1"
                                StrokeShape="RoundRectangle 10"
                                Padding="0">
                            <Entry Placeholder="Enter venue email"
                                   Text="{Binding VenueEmail}"
                                   FontSize="16"
                                   TextColor="#333"
                                   PlaceholderColor="#999"
                                   ClearButtonVisibility="WhileEditing"
                                   BackgroundColor="Transparent"/>
                        </Border>
                    </VerticalStackLayout> 
                    
                    <!-- Venue Capacity -->
                    <VerticalStackLayout Spacing="4">
                        <Label Text="VENUE CAPCITY" 
                               FontSize="12"
                               FontAttributes="Bold"
                               TextColor="#4F378A"
                               Margin="5,0"/>
                        <Border Stroke="#4F378A60"
                                StrokeThickness="1"
                                StrokeShape="RoundRectangle 10"
                                Padding="0">
                            <Entry Placeholder="Enter venue capacity"
                                   Text="{Binding VenueCapacity}"
                                   FontSize="16"
                                   TextColor="#333"
                                   PlaceholderColor="#999"
                                   ClearButtonVisibility="WhileEditing"
                                   Keyboard="Numeric"
                                   BackgroundColor="Transparent"/>
                        </Border>
                    </VerticalStackLayout>


                    <!-- Price Field -->
                    <VerticalStackLayout Spacing="4">
                        <Label Text="PRICE PER HOUR" 
                               FontSize="12"
                               FontAttributes="Bold"
                               TextColor="#4F378A"
                               Margin="5,0"/>
                        <Grid ColumnDefinitions="auto,*">
                            <Label Text="$"
                                   FontSize="16"
                                   TextColor="#4F378A"
                                   VerticalOptions="Center"
                                   Margin="15,0,0,0"
                                   Grid.Column="0"/>
                            <Border Stroke="#4F378A60"
                                    StrokeThickness="1"
                                    StrokeShape="RoundRectangle 10"
                                    Grid.Column="1">
                                <Entry Placeholder="0.00"
                                       Text="{Binding InitialPrice}"
                                       Keyboard="Numeric"
                                       FontSize="16"
                                       TextColor="#333"
                                       PlaceholderColor="#999"
                                       BackgroundColor="Transparent"/>
                            </Border>
                        </Grid>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>

            <!-- Action Buttons -->
            <Grid ColumnDefinitions="*,*" ColumnSpacing="12" Margin="0,15">
                <!-- Save Button -->
                <Button Text="SAVE CHANGES"
                        Grid.Column="0"
                        BackgroundColor="#4F378A"
                        TextColor="White"
                        FontSize="14"
                        FontAttributes="Bold"
                        CornerRadius="12"
                        HeightRequest="52"
                        Command="{Binding SaveVenueCommand}"/>

                <!-- Cancel Button -->
                <Button Text="CANCEL"
                        Grid.Column="1"
                        BackgroundColor="White"
                        TextColor="#4F378A"
                        BorderColor="#4F378A"
                        BorderWidth="2"
                        FontSize="14"
                        FontAttributes="Bold"
                        CornerRadius="12"
                        HeightRequest="52"
                        Command="{Binding CloseEditCommand}"/>
            </Grid>

            <!-- Delete Button -->
            <Button Text="DELETE VENUE"
                    BackgroundColor="Transparent"
                    TextColor="#E74C3C"
                    BorderColor="#E74C3C"
                    BorderWidth="1"
                    FontSize="14"
                    FontAttributes="Bold"
                    CornerRadius="12"
                    HeightRequest="52"
                    HorizontalOptions="Fill"
                    Command="{Binding DeleteVenueEditCommand}"
                    CommandParameter="{Binding Venue}"
                    />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>